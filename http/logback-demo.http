### ============================================================
### Your own log statements: log.info() with structured args
### ============================================================
###
### Start: ./gradlew bootRun
###
### Uses LogstashEncoder + MaskingJsonGeneratorDecorator.
### Pass the request body via fields(object) or Markers.append()
### and the decorator masks sensitive JSON fields automatically.
### ============================================================


### LOGIN - kv() per field
### Log output: "password":"***REDACTED***", "email":"***@example.com", "token":"***REDACTED***"

POST http://{{host}}/api/logback/login
Content-Type: application/json

{
  "username": "john.doe",
  "password": "SuperSecret123",
  "email": "john.doe@example.com"
}

### PAYMENT - fields(object), whole body as top-level JSON keys
### Log output: "creditCardNumber":"***REDACTED***", "cvv":"***REDACTED***", "email":"***@example.com"

POST http://{{host}}/api/logback/payment
Content-Type: application/json

{
  "amount": 99.99,
  "currency": "USD",
  "creditCardNumber": "4111111111111111",
  "cvv": "123",
  "cardholderName": "John Doe",
  "email": "john.doe@example.com"
}

### PROFILE - Markers.append(), body nested under "request" key
### Log output: "request":{"ssn":"***REDACTED***","email":"***@example.com","phone":"***7890","apiKey":"***REDACTED***"}

POST http://{{host}}/api/logback/profile
Content-Type: application/json

{
  "name": "Jane Doe",
  "email": "jane.doe@example.com",
  "phone": "+1234567890",
  "ssn": "123-45-6789",
  "apiKey": "sk-abc123secret456"
}

### PROTECTED - kv() for Authorization header
### Log output: "authorization":"***REDACTED***"

GET http://{{host}}/api/logback/protected
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIn0.dozjgNryP4J3jVmNHl0w5N_XgL0n3I9PlFUP0THsR8U

